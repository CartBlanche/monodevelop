<Addin id        = "VersionControl"
       namespace   = "MonoDevelop"
       name      = "MonoDevelop Version Control Addin"
       author    = "Joshua Tauberer"
       copyright = "GPL"
       url       = "http://taubz.for.net/code/diff"
       description = "A MonoDevelop addin for using version control systems like Subversion"
       category    = "IDE extensions"
       version   = "0.13.0">
 
	<Runtime>
		<Import assembly="Diff.dll"/>
		<Import assembly="DiffWidget.dll"/>
		<Import assembly="VersionControlAddIn.dll"/>
	</Runtime>

	<Dependencies>
	    <Addin id="Core" version="0.13.0"/>
	    <Addin id="Core.Gui" version="0.13.0"/>
		<Addin id="Projects" version="0.13.0"/>
	    <Addin id="Ide" version="0.13.0"/>
	</Dependencies>
	
	<ExtensionPoint path = "/MonoDevelop/VersionControl/VersionControlSystems" name = "Version control systems">
		<Description>Version control systems</Description>
		<ExtensionNode name="Class">
			<Description>The specified class must subclass VersionControlSystem.</Description>
		</ExtensionNode>	
	</ExtensionPoint>

	<ExtensionPoint path = "/MonoDevelop/VersionControl/CommitDialogExtensions" name = "Commit dialog extensions">
		<Description>Commit dialog extensions.</Description>
		<ExtensionNode name="Class">
			<Description>The specified class must subclass CommitDialogExtension.</Description>
		</ExtensionNode>	
	</ExtensionPoint>

	<Extension path = "/Workspace/FileSystemExtensions" extension-nodes="Class" description="File system extensions|File system extensions which can provide specific behavior when handling files. Specified classes must implement MonoDevelop.Core.FileSystem.FileSystemExtension.">
		<Class class = "MonoDevelop.VersionControl.VersionControlFileSystemExtension" />
	</Extension>
<!-- TODO: Version control - solution pad extension
	<Extension path = "/SharpDevelop/Workbench/Pads/MonoDevelop.Ide.Gui.Pads.ProjectPad">
		<PadOption id = "ShowVersionControlOverlays" _label = "Show version control overlay icons" defaultValue = "True" />
		<NodeBuilder id = "VersionControlNodeExtension" class = "MonoDevelop.VersionControl.VersionControlNodeExtension"/>
	</Extension> -->

	<Extension path = "/SharpDevelop/Workbench/StockIcons">
		<StockIcon stockid = "vc-add" resource = "overlay_added.png" />
		<StockIcon stockid = "vc-remove" resource = "overlay_removed.png" />
		<StockIcon stockid = "vc-add-command" resource = "menu_add.png" />
		<StockIcon stockid = "vc-remove-command" resource = "menu_remove.png" />
		<StockIcon stockid = "vc-revert-command" resource = "menu_revert.png" />
		<StockIcon stockid = "vc-diff" resource = "menu_diff.png" />
		<StockIcon stockid = "vc-log" resource = "menu_log.png" />
		<StockIcon stockid = "vc-status" resource = "menu_status.png" />
		<StockIcon stockid = "vc-update" resource = "menu_update.png" />
		<StockIcon stockid = "vc-commit" resource = "menu_commit.png" />
		<StockIcon stockid = "vc-remote-status" resource = "menu_remote_status.png" />
		<StockIcon stockid = "vc-comment" resource = "comment.png" />
	</Extension>
        
	<Extension path = "/SharpDevelop/Commands">
		<Command id = "MonoDevelop.VersionControl.Commands.Add" 
			_label = "Add"
			icon = "vc-add-command"
			description = "Add node to repository in the next commit."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Remove" 
			_label = "Remove"
			icon = "vc-remove-command"
			description = "Remove node to repository in the next commit."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Commit" 
			_label = "Commit"
			icon = "vc-commit"
			description = "Commits a file or directory into the repository."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Diff" 
			_label = "Diff"
			icon = "vc-diff"
			description = "Show the changes made to the local copy since the last update."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Revert" 
			_label = "Revert"
			icon = "vc-revert-command"
			description = "Restore pristine working copy file (undo most local edits)."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Log" 
			_label = "Log"
			icon = "vc-log"
			description = "Shows the commit history of the file or folder."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Status" 
			_label = "Status/Commit..."
			icon = "vc-status"
			description = "Shows the status of files in the folder."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Update" 
			_label = "Update"
			icon = "vc-update"
			description = "Updates the local copy with remote changes."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Publish" 
			_label = "Publish..."
			description = "Publish actual project into repository."/>
		<Command id = "MonoDevelop.VersionControl.Commands.Checkout" 
			defaultHandler = "MonoDevelop.VersionControl.CheckoutCommand"
			_label = "Checkout..."
			icon = "vc-update"
			description = "Checkout a project from repository."/>
	</Extension>
	
	<Extension path="/SharpDevelop/Workbench/MainMenu/File">
		<CommandItem id="MonoDevelop.VersionControl.Commands.Checkout" 
			insertafter="MonoDevelop.Ide.Commands.FileCommands.OpenFile" />
	</Extension>	

	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/ProjectFileNode">
		<ItemSet id = "VersionControl" _label = "Version Control" insertafter = "IncludeSeparator">
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Add"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Remove"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Revert"/>
			<SeparatorItem id = "CommandSeparator" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Update"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Diff"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Log"/>
		</ItemSet>
		<SeparatorItem />
	</Extension>
	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/SystemFileNode">
		<ItemSet id = "VersionControl" _label = "Version Control" insertafter = "IncludeToProjectSeparator">
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Add"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Remove"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Revert"/>
			<SeparatorItem id = "CommandSeparator" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Update"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Diff"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Log"/>
		</ItemSet>
		<SeparatorItem />
	</Extension>
	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/DefaultDirectoryNode">
		<ItemSet id = "VersionControl" _label = "Version Control" insertafter = "AddSeparator">
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Add"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Remove"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Revert"/>
			<SeparatorItem id = "CommandSeparator" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Update"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Status"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Commit"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Log"/>
		</ItemSet>
		<SeparatorItem />
	</Extension>
	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/ProjectBrowserNode">
		<ItemSet id = "VersionControl" _label = "Version Control" insertafter = "AddSeparator">
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Publish"/>
			<SeparatorItem id = "CommandSeparator1" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Revert"/>
			<SeparatorItem id = "CommandSeparator2" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Update"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Status"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Commit"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Log"/>
		</ItemSet>
		<SeparatorItem />
	</Extension>
	<Extension path = "/SharpDevelop/Views/ProjectBrowser/ContextMenu/CombineBrowserNode">
		<ItemSet id = "VersionControl" _label = "Version Control" insertafter = "AddSeparator">
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Publish"/>
			<SeparatorItem id = "CommandSeparator1" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Revert"/>
			<SeparatorItem id = "CommandSeparator2" />
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Update"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Status"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Commit"/>
			<CommandItem id = "MonoDevelop.VersionControl.Commands.Log"/>
		</ItemSet>
		<SeparatorItem />
	</Extension>
</Addin>
	
